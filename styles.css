body { margin: 0; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; background-color: #f8f9fa; color: #333; }
a { text-decoration: none; color: #007bff; }

.header { background-color: #d9002c; padding: 15px 30px; border-bottom: 1px solid #b30024; display: flex; justify-content: space-between; align-items: center; }
.header .logo { font-size: 24px; font-weight: bold; color: #ffffff; }
.header .logo a { text-decoration: none; color: inherit; }
.header .nav a { margin-left: 20px; font-weight: 500; color: #ffffff; font-size: 15px; }
.header .nav a.nav-button { background-color: #ffffff; color: #d9002c; padding: 8px 12px; border-radius: 6px; }
.header .nav a.nav-button:hover { background-color: #f0f0f0; }

.search-hero { background: linear-gradient(135deg, #d9002c, #b30024); padding: 60px 20px; text-align: center; }
.search-widget { max-width: 900px; margin: 0 auto; background-color: #ffffff; border-radius: 12px; box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1); padding: 30px; }
.search-widget h1, .search-widget h2 { font-size: 28px; color: #333; margin-top: 0; margin-bottom: 25px; }
.search-form { display: flex; flex-wrap: wrap; align-items: flex-end; gap: 20px; }
.form-group { flex: 1; min-width: 200px; text-align: left; }
.form-group label { display: block; font-weight: 600; margin-bottom: 8px; color: #555; }
.form-group input { width: 100%; padding: 14px 16px; border: 1px solid #ddd; border-radius: 8px; font-size: 16px; box-sizing: border-box; }
.search-button { background-color: #d9002c; color: white; border: none; padding: 14px 30px; font-size: 16px; font-weight: bold; border-radius: 8px; cursor: pointer; transition: background-color 0.3s; height: 50px; }
.search-button:hover { background-color: #b30024; }

.content-area { padding: 40px 20px; max-width: 1100px; margin: 0 auto; }
.panel-container { padding: 40px 20px; max-width: 1000px; margin: 20px auto; background: #fff; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.05); }
.panel-container h1 { font-size: 28px; color: #333; margin-top: 0; }
.panel-container h2 { border-bottom: 2px solid #f0f0f0; padding-bottom: 10px; margin-bottom: 20px; font-size: 24px; }
.panel-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; }
.form-section { border: 1px solid #ddd; padding: 20px; border-radius: 8px; }
.form-section label { text-align: left; font-weight: 600; margin-bottom: 8px; display: block; }
.form-section input, .form-section select { width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 6px; box-sizing: border-box; margin-bottom: 15px; font-size: 14px; }
.form-section button { width: 100%; padding: 12px; }

.trip-list { display: flex; flex-direction: column; gap: 15px; }
.trip-card { background: #fff; border: 1px solid #e0e0e0; border-radius: 8px; padding: 20px; display: flex; align-items: center; justify-content: space-between; flex-wrap: wrap; gap: 15px; box-shadow: 0 2px 4px rgba(0,0,0,0.03); }
.trip-card > div { flex: 1; min-width: 120px; }
.trip-company { font-weight: 600; font-size: 18px; color: #333; flex-basis: 150px; }
.trip-time { font-weight: bold; font-size: 22px; color: #007bff; flex-basis: 80px; text-align: center; }
.trip-path { font-size: 16px; color: #555; flex-basis: 200px; }
.trip-price { font-size: 24px; font-weight: bold; color: #333; flex-basis: 100px; text-align: right; }
.trip-action { flex-basis: 120px; text-align: right; }

.user-info-card { display: flex; flex-wrap: wrap; justify-content: space-between; align-items: center; background: #f9f9f9; padding: 25px; gap: 20px; }
.user-info-card > div { flex-basis: 200px; font-size: 16px; }
.user-info-card > div > span { font-weight: normal; color: #555; margin-left: 8px; }
.user-info-card .user-balance { flex-grow: 1; text-align: right; }
.user-info-card .user-balance span { font-size: 26px; font-weight: bold; color: #007bff; }
.ticket-list { display: flex; flex-direction: column; gap: 15px; }
.ticket-card { display: flex; flex-wrap: wrap; align-items: center; gap: 15px; background: #fff; border: 1px solid #e0e0e0; border-radius: 8px; padding: 15px; }
.ticket-company { flex-basis: 150px; flex-grow: 1; font-weight: 600; font-size: 17px; }
.ticket-details { flex-basis: 300px; flex-grow: 2; line-height: 1.5; }
.ticket-details .ticket-path { font-size: 16px; display: block; }
.ticket-details .ticket-time { font-size: 14px; color: #555; display: block; }
.ticket-seat { flex-basis: 80px; flex-grow: 1; font-size: 15px; text-align: center; }
.ticket-actions { flex-basis: 200px; flex-grow: 1; display: flex; gap: 10px; justify-content: flex-end; }
.ticket-actions a, .ticket-actions span { padding: 8px 12px; border-radius: 6px; font-size: 14px; font-weight: 500; text-align: center; }
.cancel-button { background: #ffe0e0; color: #d9002c; } .cancel-button:hover { background: #d9002c; color: #fff; }
.pdf-button { background: #f0f0f0; color: #333; } .pdf-button:hover { background: #ddd; }
.disabled-button { background: #f5f5f5; color: #999; cursor: not-allowed; }

.trip-detail-layout { display: grid; grid-template-columns: 2fr 1fr; gap: 30px; }
.bus-column { flex-grow: 2; }
.sidebar-column { flex-grow: 1; min-width: 300px; }
.sidebar-column .search-widget { padding: 20px; }
.bus-top-view { background: #fff; padding: 30px; border-radius: 8px; border: 1px solid #dee2e6; overflow: hidden; position: relative; box-shadow: 0 4px 8px rgba(0,0,0,0.05); background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 300 100'%3E%3Cpath d='M20 0 H280 C295 0 300 5 300 20 V80 C300 95 295 100 280 100 H20 C5 100 0 95 0 80 V20 C0 5 5 0 20 0 Z' fill='none' stroke='%23dee2e6' stroke-width='2'/%3E%3C/svg%3E"); background-repeat: no-repeat; background-size: 100% 100%; }
.bus-front { position: absolute; bottom: 30px; left: 30px; width: 60px; height: 60px; display: flex; align-items: center; justify-content: center; transform: none; }
.driver-seat { width: 45px; height: 45px; background-color: transparent; background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='45' fill='none' stroke='%23adb5bd' stroke-width='5'/%3E%3Ccircle cx='50' cy='50' r='10' fill='none' stroke='%23adb5bd' stroke-width='5'/%3E%3Cpath d='M50 15 V40 M22 28 L43 45 M78 28 L57 45' fill='none' stroke='%23adb5bd' stroke-width='5' stroke-linecap='round'/%3E%3C/svg%3E"); background-repeat: no-repeat; background-position: center; background-size: contain; border: none; border-radius: 0; }
.driver-seat::before, .driver-seat::after { display: none; }
.bus-layout { display: grid; grid-template-columns: repeat(14, 1fr); grid-template-rows: auto auto auto auto auto; gap: 15px 10px; min-width: auto; padding-left: 100px; grid-template-areas: "s3 s6 s9 s12 s15 s18 s21 . s25 s28 s31 s34 s37 s41" "s2 s5 s8 s11 s14 s17 s20 . s24 s27 s30 s33 s36 s40" ". . . . . . . . . . . . . s39" "s1 s4 s7 s10 s13 s16 s19 s22 s23 s26 s29 s32 s35 s38" ". . . . . . . . . . . . . ."; }
.seat-wrapper { position: relative; aspect-ratio: 3 / 4; min-height: 45px; }
.seat input[type="radio"] { display: none; }
.seat { display: block; width: 100%; height: 100%; cursor: pointer; border: 1px solid; border-radius: 6px; position: relative; transition: all 0.2s ease-in-out; background-color: var(--seat-bg); border-color: var(--seat-border); }
.seat::before { content: ''; position: absolute; top: 10%; left: 15%; right: 15%; height: 15%; background-color: inherit; border: 1px solid var(--seat-border); border-radius: 4px 4px 0 0; border-bottom: none; }
.seat::after { content: ''; position: absolute; bottom: 10%; left: 10%; right: 10%; height: 55%; background-color: inherit; border: 1px solid var(--seat-border); border-radius: 0 0 8px 8px; border-top: none; }
.seat-number { position: absolute; top: 55%; left: 50%; transform: translate(-50%, -50%); font-size: 14px; font-weight: 600; pointer-events: none; color: var(--seat-text); z-index: 1; }
:root { --seat-available-bg: #fff; --seat-available-border: #ced4da; --seat-available-text: #495057; --seat-available-hover-bg: #e9ecef; --seat-selected-bg: #63d3a6; --seat-selected-border: #4dbb92; --seat-selected-text: #fff; --seat-male-bg: #bde0fe; --seat-male-border: #a2d2ff; --seat-male-text: #004a99; --seat-female-bg: #ffc0cb; --seat-female-border: #fba0af; --seat-female-text: #a30000; }
.seat.available { --seat-bg: var(--seat-available-bg); --seat-border: var(--seat-available-border); --seat-text: var(--seat-available-text); }
.seat.available:hover { --seat-bg: var(--seat-available-hover-bg); }
.seat input[type="radio"]:checked + .seat-number { color: var(--seat-selected-text); }
.seat input[type="radio"]:checked ~ { --seat-bg: var(--seat-selected-bg); --seat-border: var(--seat-selected-border); }
.seat.sold { cursor: not-allowed; opacity: 0.8; }
.seat.sold.male { --seat-bg: var(--seat-male-bg); --seat-border: var(--seat-male-border); --seat-text: var(--seat-male-text); }
.seat.sold.female { --seat-bg: var(--seat-female-bg); --seat-border: var(--seat-female-border); --seat-text: var(--seat-female-text); }
.seat-legend { display: flex; flex-wrap: wrap; gap: 15px; justify-content: center; margin-top: 20px; padding: 15px 0; }
.legend-item { display: flex; align-items: center; gap: 8px; font-size: 13px; color: #6c757d;}
.seat-example { width: 25px; height: 30px; border-radius: 4px; border: 1px solid; position: relative; background-color: var(--seat-bg); border-color: var(--seat-border);}
.seat-example::before { content:''; position: absolute; top: 10%; left: 15%; right: 15%; height: 15%; background-color: inherit; border: 1px solid var(--seat-border); border-radius: 4px 4px 0 0; border-bottom: none; }
.seat-example::after { content:''; position: absolute; bottom: 10%; left: 10%; right: 10%; height: 55%; background-color: inherit; border: 1px solid var(--seat-border); border-radius: 0 0 8px 8px; border-top: none;}
.seat-example.available { --seat-bg: var(--seat-available-bg); --seat-border: var(--seat-available-border); }
.seat-example.selected { --seat-bg: var(--seat-selected-bg); --seat-border: var(--seat-selected-border); }
.seat-example.male { --seat-bg: var(--seat-male-bg); --seat-border: var(--seat-male-border); }
.seat-example.female { --seat-bg: var(--seat-female-bg); --seat-border: var(--seat-female-border); }
.gender-options { display: flex; gap: 20px; padding: 10px 0; }
.gender-options label { display: flex; align-items: center; gap: 5px; font-weight: 500; cursor: pointer;}
.sidebar-title { font-size: 18px; font-weight: 600; color: #333; text-align: left; }
.sidebar-trip { display: flex; flex-direction: column; gap: 5px; text-align: left; margin-bottom: 20px; }
.sidebar-trip span:first-child { font-weight: 600; }
.sidebar-trip span { font-size: 15px; }
.sidebar-price { display: flex; justify-content: space-between; align-items: center; margin-top: 20px; }
.sidebar-price span { font-size: 16px; font-weight: 500; }
.sidebar-price strong { font-size: 24px; font-weight: 700; }
.sidebar-button { background-color: #63d3a6; color: white; border: none; padding: 14px 30px; font-size: 16px; font-weight: bold; border-radius: 8px; cursor: pointer; transition: background-color 0.3s; height: 50px; width: 100%; margin-top: 20px; }
.sidebar-button:hover { background-color: #4dbb92; }

.strikethrough { text-decoration: line-through; color: #adb5bd; font-size: 18px; margin-right: 10px; }
#discounted-price { color: #28a745; font-weight: bold; }
#coupon-feedback.success { color: #28a745; }
#coupon-feedback.error { color: #dc3545; }
.error-message { color:red; background-color: #ffe0e0; padding: 10px; border-radius: 6px; margin-bottom: 15px; }
.success-message { color:green; background-color: #e0ffe0; padding: 10px; border-radius: 6px; margin-bottom: 15px; }
.data-table { width: 100%; border-collapse: collapse; margin-top: 15px; font-size: 14px; }
.data-table th, .data-table td { border: 1px solid #ddd; padding: 8px; text-align: left; vertical-align: middle;}
.data-table th { background-color: #f2f2f2; }
.data-table tr:nth-child(even){ background-color: #f9f9f9; }
.action-links a { margin-right: 8px; font-size: 13px; white-space: nowrap; }
.delete-link { color: #d9002c; }

@media (max-width: 900px) {
    .trip-detail-layout { grid-template-columns: 1fr; }
    .sidebar-column { margin-top: 30px; }
    .bus-top-view { padding: 15px; background-image: none; }
     .bus-layout { padding-left: 0; min-width: auto; gap: 10px 5px; }
    .bus-front { bottom: 10px; left: 10px; width: 50px; height: 50px;}
    .driver-seat { width: 30px; height: 30px; border-width: 2px; }
}
@media (max-width: 768px) {
    .panel-grid { grid-template-columns: 1fr; }
    .search-form { flex-direction: column; align-items: stretch; }
    .search-button { width: 100%; }
    .trip-card { flex-direction: column; align-items: stretch; text-align: center; }
    .trip-price, .trip-action, .trip-time, .trip-path { text-align: center; flex-basis: auto; }
    .trip-action a { width: 100%; box-sizing: border-box; }
    .user-info-card { flex-direction: column; align-items: stretch; }
    .user-info-card .user-balance { text-align: left; margin-top: 10px; }
    .ticket-card { flex-direction: column; align-items: stretch; text-align: center; }
    .ticket-actions { flex-direction: column; gap: 5px; }
}